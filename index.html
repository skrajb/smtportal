<!DOCTYPE html>
<html lang="en">
<head>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468699928896150"
     crossorigin="anonymous"></script>
  <meta charset="UTF-8">
	<meta name="google-adsense-account" content="ca-pub-3468699928896150">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Smartech Education</title>
  <link rel="stylesheet" href="styles.css" />
  
  <style>
body { font-family: 'Bookman Old Style', serif; margin: 0; background: #f8f9fa; }
nav { background: #00295f; padding: 10px 20px;}
nav ul { list-style: none; margin: 0; padding: 0; display: flex; align-items: center; }
nav ul li { margin-right: 20px; }
nav ul li a, nav ul li button { color: white; font-weight: bold; text-decoration: none; background: transparent; border: none; font-size: 16px; cursor: pointer; }
nav ul li a:hover, nav ul li button:hover { color: #00295f; }
.header { display: flex; justify-content: space-between; padding: 10px 20px; align-items: center; }
header img { height: 80px; }
.container { width: 90%; margin: 20px auto; }
.card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0px 0px 10px rgba(0,0,0,0.15); margin-bottom: 20px; }
.card h2 { color: #00295f; border-left: 6px solid #00295f; padding-left: 10px; }
textarea, input { width: 100%; padding: 8px; margin-top: 6px; border-radius: 6px; border: 1px solid #ccc; }
button { margin-top: 8px; padding: 8px 14px; border: none; background: black; color: white; border-radius: 5px; cursor: pointer; }
button:hover { background: black; }
.delete-btn { background: #d40000; } .delete-btn:hover { background: #9b0000; }
.hidden { display: none; }
#loginModal { display: none; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; }
.modal-content { background: white; padding: 20px; border-radius: 5px; text-align: center; }

/* ===== Transparent Intro Styles ===== */
#intro-screen {
  position: fixed;
  inset: 0;
  background: transparent; /* no background at all */
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  overflow: hidden;
  z-index: 9999;
  animation: fadeOut 3s ease 2.8s forwards; /* fades away after 3s */
  pointer-events: none; /* allows clicking elements below */
}
.intro-text {
  font-family: 'Bookman Old Style', serif;
  font-size: 2.2rem;
  color: #00295f;
  text-shadow: 0 2px 10px rgba(0,0,0,0.15);
  position: relative;
  z-index: 2;
  animation: fadeInText 1s ease-in-out;
}
/* Floating letters */
.letters-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.letter {
  position: absolute;
  color: #D4AF37;
  opacity: 0.8;
  font-family: 'Bookman Old Style', serif;
  animation: floatLetters 3s linear forwards;
  user-select: none;
}
/* ===== Animations ===== */
@keyframes floatLetters {
  from { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
  to { transform: translateY(-600px) scale(1.3) rotate(360deg); opacity: 0; }
}
@keyframes fadeOut {
  to { opacity: 0; visibility: hidden; display: none; }
}
@keyframes fadeInText {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ================= INTRO ================= */
#intro {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  padding: 0px 8%;
  background: linear-gradient(to right, #fff, #f9f8f6);
  min-height: 80vh;
  overflow: hidden;
}
.intro-content { flex: 1; min-width: 300px; animation: fadeInLeft 1.2s ease; }
.intro-content h1 { font-size: 2.5rem; color: #222; margin-bottom: 10px; }
.highlight { color: #00295f; }
.subtitle { font-size: 1.2rem; color: #555; max-width: 500px; margin-bottom: 25px; line-height: 1.6; }
.intro-buttons { display: flex; gap: 15px; }
.btn { padding: 12px 25px; border-radius: 8px; font-weight: bold; text-decoration: none; font-size: 1rem; transition: all 0.3s ease; }
.gold-btn { background: #00295f; color: white; }
.gold-btn:hover { background: #000; color: white; }
.black-btn { background: black; color: white; }
.black-btn:hover { background: #00295f; color: #000; }
.intro-image { flex: 1; text-align: center; animation: fadeInRight 1.2s ease; }
.intro-image img { width: 85%; max-width: 400px; border-radius: 20px; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.2)); }
/* ===== Animations ===== */
@keyframes fadeInLeft { from { opacity: 0; transform: translateX(-40px); } to { opacity: 1; transform: translateX(0); } }
@keyframes fadeInRight { from { opacity: 0; transform: translateX(40px); } to { opacity: 1; transform: translateX(0); } }
/* Responsive */
@media (max-width: 800px) {
  #intro { flex-direction: column; text-align: center; }
  .intro-content, .intro-image { animation: none; }
  .intro-content h1 { font-size: 2rem; }
  .subtitle { font-size: 1rem; }
  .intro-buttons { justify-content: center; }
}

/* âœ¨ Animation styles */
#tips-list li {
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.6s ease;
}
#tips-list li.visible {
  opacity: 1;
  transform: translateY(0);
}
/* âœ¨ Animation styles */
  
#tips-list li {
  
  opacity: 0;
  
  transform: translateY(20px);
  
  transition: all 0.6s ease;
  
}
  

  
#tips-list li.visible {
  
  opacity: 1;
  
  transform: translateY(0);
  
}

  </style>
		
  <script>

/* ===== JS to Generate Floating Letters ===== */
document.addEventListener("DOMContentLoaded", () => {
  const letters = ['A','B','C','D','E','F','à¨•','à¨–','à¨—','à¨š','à¨œ','à¨¤','à¨¨','à¨®','à¨¸','à¨¹','à¨¶','à¨²'];
  const container = document.querySelector('.letters-container');
  if (container) {
    for (let i = 0; i < 25; i++) {
      const span = document.createElement('span');
      span.classList.add('letter');
      span.textContent = letters[Math.floor(Math.random() * letters.length)];
      span.style.left = Math.random() * 100 + 'vw';
      span.style.bottom = Math.random() * 30 + 'px';
      span.style.animationDuration = 3 + Math.random() * 2 + 's';
      span.style.fontSize = (1 + Math.random() * 1.5) + 'rem';
      container.appendChild(span);
    }
  }

  setTimeout(() => {
    const intro = document.getElementById('intro-screen');
    if (intro) intro.style.display = 'none';
  }, 3000);
});
  document.getElementById('statusBtn').addEventListener('click', async () => {
    try {
      const activated = await window.electronAPI.isActivated();
      document.getElementById('out').textContent = JSON.stringify({ activated }, null, 2);
    } catch (err) {
      document.getElementById('out').textContent = 'Error: ' + err.message;
    }
  });
  </script>
</head>


<!-- ===== HEADER / HERO SECTION ===== -->

<body>
  <pre id="out"></pre>
  <!-- ðŸŒŸ Floating Letters Intro -->
  <div id="intro-screen">
    <div class="letters-container"></div>
  </div>

  <div class="header">
    <img src="Smartech Educatation Computer Centre3.png" alt="Smartech" class="logo">
    <img src="Typing Boy.png" height="60" alt="Typing Boy">
  </div>

  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
     <li><a href="exercises.html">Exercises</a></li>

	 <li><a href="english_tutor.html">Speed Test</a></li>
	 <li><a href="engtutor.html">English Typing Tutor</a></li>
	  <li><a href="pbitutor.html">Punjabi Typing Tutor</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li style="margin-left:auto;">
     <!-- <button id="statusBtn">Show Activation Status</button>
  <pre id="out"></pre>-->
      </li>
    </ul>
  </nav>

  <!-- ================== INTRO SECTION ================== -->
  <section id="intro">
    <div class="intro-content">
      <h1>Welcome to <span class="highlight">Smartech Typing Portal</span></h1>
      <p style="font-size:1.1rem; line-height:1.2; color:#444;">
        If you are preparing for government competitive exams such as
        <b>SSC CGL</b>, <b>PSSSB</b>, <b>RRB</b>, or any other typing-based test,
        our carefully designed <b>practice exercises</b> will help you enhance your
        speed and accuracy.
      </p>
      <p style="font-size:1.1rem; line-height:1.2; color:#444;">
        Each passage is structured to reflect the real exam environment â€” helping you
        build the focus, consistency, and confidence needed to perform your best under
        time pressure.
      </p>
      <p style="font-size:1.1rem; line-height:1.2; color:#444;">
        Regular practice on our portal will not only strengthen your typing technique but also sharpen your attention to detail â€” turning your keyboard into your finest exam ally.
      </p>

  <!--    <div class="intro-buttons">
        <a href="exercises.html" class="btn gold-btn" class="hidden">Start Practice</a>
      </div>-->
    </div>
    <div class="intro-image">
      <img src="Typing Boy.png" alt="Typing Boy">
    </div>
  </section>

  <div class="card" style="text-align:center;">
    <h2 id="quoteBox" style="font-style:italic; font-size:24;">Loading motivation...</h2>
  </div>

  <div class="card" id="typing-importance">
    <h2>Importance of Typing Skills</h2>
    <p>Typing is not just pressing keys â€” itâ€™s the language of todayâ€™s digital world. Every message, document, and idea starts with the ability to type. In an age where communication moves at lightning speed, typing is no longer optional â€” itâ€™s essential.</p>
    <p>Strong typing skills help you express your thoughts quickly and clearly, boost productivity, and improve accuracy. Whether you are a student, professional, or entrepreneur, typing fluently saves valuable time and builds confidence.</p>
    <p>Typing also strengthens your concentration, patience, and coordination. Itâ€™s not just a skill â€” itâ€™s a digital superpower that opens doors to faster learning, better communication, and greater opportunities.</p>

    <h3 style="margin-top:20px; color:#00295f;">Tips & Tricks to Improve Typing Speed</h3>
    <ul id="tips-list" style="line-height:1.8; margin-left:20px; list-style-type: square;">
      <li><b>Sit Properly:</b> Keep your back straight, elbows bent at right angles, and wrists relaxed.</li>
      <li><b>Home Row Technique:</b> Place your fingers on <code>A S D F</code> and <code>J K L ;</code> â€” your typing base.</li>
      <li><b>Donâ€™t Look at the Keyboard:</b> Train your fingers to move by memory â€” this builds real typing speed.</li>
      <li><b>Use All Fingers:</b> Let every finger play its part â€” this distributes effort and improves flow.</li>
      <li><b>Focus on Accuracy First:</b> Speed will naturally increase once accuracy becomes consistent.</li>
      <li><b>Practice Regularly:</b> Just 10 minutes of daily typing builds lasting improvement.</li>
      <li><b>Take Short Breaks:</b> Rest your eyes and fingers to maintain focus and precision.</li>
      <li><b>Challenge Yourself:</b> Type different passages, quotes, or use typing games for variety.</li>
    </ul>

    <p style="margin-top:15px;">Remember â€” the keyboard is your instrument, and your fingers are the musicians. Practice daily, stay consistent, and soon typing will feel as natural as thinking.</p>
  </div>

 <div class="card" id="typing-importance"> 
    <h2>Manage Exercises</h2>

   <div>
      <input type="file" id="exerciseFile">
      <button onclick="loadExercisesFromFile()">Upload Exercises File</button>
    </div>

    <div>
      <input type="text" id="exerciseFileUrl" placeholder="Paste exercises file URL"  value="https://raw.githubusercontent.com/skrajb/speedweb/refs/heads/main/practicetest.txt">
      <button onclick="loadExercisesFromUrl()">Import Exercises from URL</button>
    </div>

   <div style="display:flex;gap:20px;margin-top:15px;">
      <div style="width:50%;">
        <h3>English Exercises</h3>
      <input type="text" id="exerciseTitleEnglish" placeholder="Exercise title">
        <textarea id="exerciseTextEnglish" rows="5" placeholder="Exercise text"></textarea>
        <button onclick="addExercise('English')">Add English Exercise</button>
        <div id="exerciseListEnglish"></div>
      </div>

      <div style="width:50%;">
        <h3>Punjabi Exercises</h3>
     <input type="text" id="exerciseTitlePunjabi" placeholder="Exercise title">
        <textarea id="exerciseTextPunjabi" rows="5" placeholder="Exercise text"></textarea>
        <button onclick="addExercise('Punjabi')">Add Punjabi Exercise</button>
        <div id="exerciseListPunjabi"></div>
      </div>
    </div>

    <br>
    <button class="delete-btn" onclick="deleteAllExercises()" id="deleteAllButton">Delete All</button>
  </div>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3468699928896150"
     crossorigin="anonymous"></script>
<!-- unit1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3468699928896150"
     data-ad-slot="5271206224"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

  <script>
  loadExercisesFromUrl();
  function closeLoginModal() {
  document.getElementById("loginModal").style.display = "none";
}

/* Quotes + UI small behaviors */
const quotes = [
  "Practice is the key to perfection.",
  "Every word you type is a step closer to success.",
  "Consistency turns beginners into champions.",
  "The keyboard is your instrument â€” play it daily."
];
let qIndex = 0;
const quoteBox = document.getElementById("quoteBox");
function showQuote() {
  if (!quoteBox) return;
  quoteBox.style.opacity = 0;
  setTimeout(() => {
    quoteBox.innerHTML = quotes[qIndex];
    quoteBox.style.opacity = 1;
    qIndex = (qIndex + 1) % quotes.length;
  }, 800);
}
showQuote();
setInterval(showQuote, 10000);

/* Persistent data for exercises */
let exercisesEnglish = JSON.parse(localStorage.getItem('exercisesEnglish')) || [];
let exercisesPunjabi = JSON.parse(localStorage.getItem('exercisesPunjabi')) || [];
let isLoggedIn = sessionStorage.getItem('isLoggedIn') === 'true';

  
  
// ðŸŽ¬ Animate tips one by one on scroll
  
document.addEventListener("DOMContentLoaded", () => {
  
  const listItems = document.querySelectorAll("#tips-list li");
  
  const observer = new IntersectionObserver(entries => {
  
    entries.forEach(entry => {
  
      if (entry.isIntersecting) {
  
        listItems.forEach((item, index) => {
  
          setTimeout(() => {
  
            item.classList.add("visible");
  
          }, index * 300); // 0.3s delay between each item
  
        });
  
        observer.disconnect(); // run once
  
      }
  
    });
  
  }, { threshold: 0.3 });
  

  
  observer.observe(document.querySelector("#tips-list"));
  
});


/* ---- Helpers and rendering (mostly unchanged from your original file) ---- */
function addExercise(lang){
  let title = lang==="English" ? document.getElementById('exerciseTitleEnglish').value : document.getElementById('exerciseTitlePunjabi').value;
  let text = lang==="English" ? document.getElementById('exerciseTextEnglish').value : document.getElementById('exerciseTextPunjabi').value;
  if(!title || !text) return alert("Both fields required");
  let list = lang==="English" ? exercisesEnglish : exercisesPunjabi;
  list.push({title,text});
  localStorage.setItem('exercisesEnglish',JSON.stringify(exercisesEnglish));
  localStorage.setItem('exercisesPunjabi',JSON.stringify(exercisesPunjabi));
  renderExercises(lang);
}

// Escape quotes and symbols to prevent HTML breaking
function escapeHTML(str) {
  return String(str)
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;")
    .replace(/"/g, "&quot;")
    .replace(/'/g, "&#39;");
}

function renderExercises(lang) {
  const box = lang === "English" ? document.getElementById('exerciseListEnglish') : document.getElementById('exerciseListPunjabi');
  const list = lang === "English" ? exercisesEnglish : exercisesPunjabi;

  if (!box) return;
  box.innerHTML = list
    .map(
      (e, i) => `
      <div class="card">
        <b>${i + 1}. ${escapeHTML(e.title)}</b>
        <p>${escapeHTML((e.text || "").slice(0, 100))}...</p>
        <button class="delete-btn" data-index="${i}">Delete</button>
      </div>`
    )
    .join("");

  // Add event listeners safely
  box.querySelectorAll(".delete-btn").forEach((btn) => {
    btn.addEventListener("click", () => deleteExercise(btn.dataset.index, lang));
  });
}

function deleteExercise(i,lang){
  let list = lang==="English" ? exercisesEnglish : exercisesPunjabi;
  list.splice(i,1);
  localStorage.setItem('exercisesEnglish',JSON.stringify(exercisesEnglish));
  localStorage.setItem('exercisesPunjabi',JSON.stringify(exercisesPunjabi));
  renderExercises(lang);
}

function deleteAllExercises(){
  exercisesEnglish = []; exercisesPunjabi = [];
  // Only clear the exercise keys to avoid removing other localStorage entries
  localStorage.removeItem('exercisesEnglish');
  localStorage.removeItem('exercisesPunjabi');
  renderExercises("English"); renderExercises("Punjabi");
}



/* Periodically check session status (every 60s) */
let _checkLoopActive = false;
async function checkSessionLoop() {
  if (_checkLoopActive) return;
  _checkLoopActive = true;

  while (sessionStorage.getItem('isLoggedIn') === 'true') {
    try {
      const username = localStorage.getItem("username");
      const sessionId = localStorage.getItem("sessionId");
      if (!username || !sessionId) break;

      const res = await fetch(`${GOOGLE_APP_URL}?action=check&username=${encodeURIComponent(username)}&sessionId=${encodeURIComponent(sessionId)}`);
      const status = await res.text();

      if (status === "LOGOUT" || status === "EXPIRED") {
        alert("Your session has expired or you logged in from another device. You will be logged out now.");
        await performLogoutLocal(false); // false = avoid asking backend again
        break;
      }
    } catch (err) {
      console.error("Session check failed", err);
      // continue anyway; next loop will retry
    }
    // wait 60s before next check
    await new Promise(res => setTimeout(res, 60000));
  }

  _checkLoopActive = false;
}

/* Perform logout locally and optionally inform backend */
async function performLogoutLocal(callBackend = true) {
  const username = localStorage.getItem("username");
  try {
    if (callBackend && username) {
      await fetch(`${GOOGLE_APP_URL}?action=logout&username=${encodeURIComponent(username)}`);
    }
  } catch (err) {
    console.warn("Backend logout failed (network?). Proceeding with local logout.", err);
  }
	document.getElementById('exerciseLink').classList.add('hidden');

  localStorage.removeItem("username");
  localStorage.removeItem("sessionId");
  sessionStorage.removeItem('isLoggedIn');

  // UI updates
  const exerciseContainer = document.getElementById('exerciseContainer');
  const logoutButton = document.getElementById('logoutButton');
  const loginBtn = document.getElementById('loginBtn');

  if (exerciseContainer) exerciseContainer.classList.add('hidden');
  if (logoutButton) logoutButton.classList.add('hidden');
  if (loginBtn) loginBtn.classList.remove('hidden');

  // reload to reset state consistently
  try { alert("You have been logged out."); } catch (e) {}
  location.reload();
}

/* Wrapper called by UI */
async function logout() {
  await performLogoutLocal(true);
}

/* Auto logout after 1 hour inactivity (resets on activity) */
let inactivityTimer;
const AUTO_LOGOUT_MS = 60 * 60 * 1000; // 1 hour

function resetInactivityTimer() {
  clearTimeout(inactivityTimer);
  if (sessionStorage.getItem('isLoggedIn') === 'true') {
    inactivityTimer = setTimeout(async () => {
      alert("You have been logged out due to inactivity.");
      await performLogoutLocal(true);
    }, AUTO_LOGOUT_MS);
  }
}

/* Wire activity events to reset inactivity timer */
["click", "mousemove", "keydown", "scroll", "touchstart"].forEach(evt => {
  document.addEventListener(evt, resetInactivityTimer, { passive: true });
});

/* verifyCredentials uses the existing credential check you had; now it registers with backend */
async function verifyCredentials() {
  const usernameEl = document.getElementById('username');
  const passwordEl = document.getElementById('password');
  const loginMessage = document.getElementById('loginMessage');
  const exerciseContainer = document.getElementById('exerciseContainer');
  const logoutButton = document.getElementById('logoutButton');
  const loginBtn = document.getElementById('loginBtn');
  const loginModal = document.getElementById('loginModal');
  const exerciseLink = document.getElementById('exerciseLink');

  const u = usernameEl.value.trim();
  const p = passwordEl.value.trim();
  if (!u || !p) return alert("Enter username & password!");

  // Log in everyone, but only admin gets exercise container
  sessionStorage.setItem('isLoggedIn', 'true');
  localStorage.setItem('username', u); // store username if needed
  isLoggedIn = true;

  if (loginModal) loginModal.style.display = 'none';
  if (logoutButton) logoutButton.classList.remove('hidden');
  if (loginBtn) loginBtn.classList.add('hidden');

  // Only show exercise container if admin
  if (u === "skraj" && p === "5775") {
    if (exerciseContainer) exerciseContainer.classList.remove('hidden');
    if (exerciseLink) exerciseLink.classList.remove('hidden');
  } else {
    if (exerciseContainer) exerciseContainer.classList.add('hidden');
    if (exerciseLink) exerciseLink.classList.add('hidden');
  }

  // Reset inactivity timer for auto logout
  resetInactivityTimer();
}



/* restore UI state on load if session exists */
window.onload = () => {
  const exerciseContainer = document.getElementById('exerciseContainer');
  const logoutButton = document.getElementById('logoutButton');
  const loginBtn = document.getElementById('loginBtn');
  const exerciseLink = document.getElementById('exerciseLink');

  if (sessionStorage.getItem('isLoggedIn') === 'true') {
    // user is logged in â†’ show
    if (exerciseContainer) exerciseContainer.classList.remove('hidden');
    if (logoutButton) logoutButton.classList.remove('hidden');
    if (loginBtn) loginBtn.classList.add('hidden');
    if (exerciseLink) exerciseLink.classList.remove('hidden');
    resetInactivityTimer();
    checkSessionLoop();
  } else {
    // user not logged in â†’ hide
    if (exerciseContainer) exerciseContainer.classList.add('hidden');
    if (logoutButton) logoutButton.classList.add('hidden');
    if (loginBtn) loginBtn.classList.remove('hidden');
    if (exerciseLink) exerciseLink.classList.add('hidden');
  }

  renderExercises("English");
  renderExercises("Punjabi");
};


/* ---- load exercises from URL code (keeps your parsing logic) ---- */
async function loadExercisesFromUrl() {
  const url = document.getElementById("exerciseFileUrl").value.trim();
  if (!url) return alert("Please enter a valid file URL!");

  try {
    const response = await fetch(url);
    const text = await response.text();

    // Split the text into lines and process
    const sections = text.split(/###/).filter(Boolean);
    exercisesEnglish = [];
    exercisesPunjabi = [];

    sections.forEach(section => {
      const langMatch = section.match(/(English|Punjabi)/i);
      if (!langMatch) return;
      const lang = langMatch[1].trim();
      const exercises = section.split(/---/).filter(t => t.trim().length > 0);
      for (let i = 0; i < exercises.length; i += 2) {
        const title = exercises[i].trim();
        const content = exercises[i + 1] ? exercises[i + 1].trim() : "";
        if (!title || !content) continue;
        if (lang.toLowerCase() === "english") {
          exercisesEnglish.push({ title, text: content });
        } else if (lang.toLowerCase() === "punjabi") {
          exercisesPunjabi.push({ title, text: content });
        }
      }
    });

    // Save to localStorage and render
    localStorage.setItem('exercisesEnglish', JSON.stringify(exercisesEnglish));
    localStorage.setItem('exercisesPunjabi', JSON.stringify(exercisesPunjabi));
    renderExercises("English");
    renderExercises("Punjabi");
  } catch (err) {
    console.error(err);
    alert("âŒ Failed to load exercises. Check your URL or file format.");
  }
}

/* Placeholder for a file upload function you referenced earlier (keeps parity) */
function loadExercisesFromFile() {
  const f = document.getElementById('exerciseFile');
  if (!f || !f.files || !f.files[0]) return alert("Select a file first");
  const reader = new FileReader();
  reader.onload = (e) => {
    const text = e.target.result || "";
    // Basic fallback: store entire file as a single English exercise
    exercisesEnglish.push({ title: "Imported", text });
    localStorage.setItem('exercisesEnglish', JSON.stringify(exercisesEnglish));
    renderExercises("English");
  };
  reader.readAsText(f.files[0], 'utf-8');
}
document.addEventListener("DOMContentLoaded", () => {

  // Load exercises from the URL automatically
  loadExercisesFromUrl();

  // Render saved exercises (if already stored in localStorage)
  renderExercises("English");
  renderExercises("Punjabi");

});
// === MATRIX MODE === //
window.addEventListener("keydown", function(e){
  if(e.ctrlKey && e.key.toLowerCase()==="m"){
    matrixMode();
  }
});

function matrixMode(){
  const canvas = document.createElement("canvas");
  canvas.id = "matrixCanvas";
  document.body.appendChild(canvas);
  const ctx = canvas.getContext("2d");

  canvas.style.position="fixed";
  canvas.style.top="0"; canvas.style.left="0";
  canvas.style.zIndex="99999";
  canvas.style.pointerEvents="none";

  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const letters = "01";
  const fontSize = 14;
  const columns = canvas.width / fontSize;
  const drops = Array(Math.floor(columns)).fill(1);

  let active = true;

  function draw(){
    if(!active) return;
    ctx.fillStyle = "rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    ctx.fillStyle = "#0F0";
    ctx.font = fontSize+"px monospace";

    for(let i=0;i<drops.length;i++){
      const text = letters[Math.floor(Math.random()*letters.length)];
      ctx.fillText(text,i*fontSize,drops[i]*fontSize);

      if(drops[i]*fontSize > canvas.height && Math.random()>0.975)
        drops[i]=0;
      drops[i]++;
    }
    requestAnimationFrame(draw);
  }
  draw();

  // disable with ESC
  window.addEventListener("keydown",e=>{
    if(e.key==="Escape"){
      active=false;
      canvas.remove();
    }
  });
}
// === HACKER MODE === //
let hackBuffer = "";
window.addEventListener("keydown", e=>{
  hackBuffer += e.key.toLowerCase();
  hackBuffer = hackBuffer.slice(-4);
  if(hackBuffer === "hack"){
    openHackMode();
  }
});

function openHackMode(){
  const term = document.createElement("div");
  term.style.position="fixed";
  term.style.top="0"; term.style.left="0";
  term.style.width="100%"; term.style.height="100%";
  term.style.background="black";
  term.style.color="#0f0";
  term.style.fontFamily="monospace";
  term.style.padding="20px";
  term.style.zIndex=999999;
  term.style.overflowY="auto";
  term.innerText = "Initializing systems...\n";

  document.body.appendChild(term);

  let i=0;
  const lines=[
    "Loading typing engine...",
    "Bypassing speed limits...",
    "Activating turbo WPM...",
    "Accessing secret admin mode...",
    "Done."
  ];

  const interval = setInterval(()=>{
    if(i < lines.length){
      term.innerText += lines[i]+"\n";
      i++;
	  
    } else {
      clearInterval(interval);
    }
  },500);

  window.addEventListener("keydown",e=>{
    if(e.key==="Escape") term.remove();
  });
}

	  // Disable right click
document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
});

// Disable keyboard shortcuts
document.addEventListener('keydown', function(e) {
    // Disable: F12, Ctrl+Shift+I/J/C, Ctrl+U, Ctrl+S, Ctrl+C, Ctrl+V, Ctrl+X, Ctrl+A, Ctrl+P
    if (
        e.key === "F12" ||
        (e.ctrlKey && e.shiftKey && ["I","J","C"].includes(e.key.toUpperCase())) ||
        (e.ctrlKey && ["U","S","C","V","X","A","P"].includes(e.key.toUpperCase()))
    ) {
        e.preventDefault();
        return false;
    }
});

  </script>
  
  	<footer style="
  background:#00295f;
  color:white;
  text-align:center;
  padding:15px 10px;
  margin-top:auto;
  font-family:'Bookman Old Style', serif;
  font-size:14px;
">
  Â© 2025 Smartech Education Computer Institute â€” All Rights Reserved.<br>
  Designed & Developed by Sahil Kumar
</footer>


</body>
</html>
